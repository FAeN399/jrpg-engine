# Development Ideas & Suggestions
**Date:** 2025-12-25
**Logger:** AI Log Man Robot

---

## Phase 5 Completion Ideas

### Audio System Enhancements

#### 1. Audio Ducking System
**Priority:** Medium
**Description:** Implement automatic volume reduction of BGM when dialog or important SFX plays.

```
AudioManager.set_ducking_category("voice", duck_amount=0.3, release_time=0.5)
```

Useful for:
- Dialog scenes (lower BGM when characters speak)
- Important SFX (menu confirmations, item pickups)
- Cutscenes

---

#### 2. Sound Variation System
**Priority:** Low
**Description:** For repeated sounds (footsteps, attacks), add pitch/volume variation.

```python
class SoundVariation:
    base_sound: str
    pitch_range: tuple[float, float] = (0.95, 1.05)
    volume_range: tuple[float, float] = (0.9, 1.0)
```

Prevents repetitive audio fatigue.

---

#### 3. Audio Preloading
**Priority:** Medium
**Description:** Preload sounds during scene transitions to avoid stutter on first play.

```python
audio_manager.preload(["sfx/attack_*.wav", "bgm/battle.ogg"])
```

---

### Localization System

#### 4. String Externalization
**Priority:** High
**Description:** All player-facing text should use a localization key system.

Suggested structure:
```
engine/i18n/
  __init__.py      # exists (empty)
  localization.py  # new: LocalizationManager

assets/lang/
  en.json
  ja.json
```

Dialog system already has a parser; extend to support localization keys.

---

#### 5. Font Fallback for CJK
**Priority:** Medium
**Description:** For Japanese/Chinese/Korean support, implement font fallback chain.

---

### Transition System

#### 6. Screen Transitions
**Priority:** High
**Description:** Implement common JRPG transitions:
- Fade to black/white
- Wipe (horizontal/vertical/radial)
- Pixelate/mosaic
- Battle swirl

Can be post-processing effects in `engine/graphics/postfx.py`.

---

#### 7. Scene Transition Manager
**Priority:** Medium
**Description:** Coordinate scene changes with transitions:

```python
transition_manager.transition_to(
    new_scene,
    effect=TransitionEffect.FADE_BLACK,
    duration=0.5
)
```

---

### Editor Improvements

#### 8. Audio Preview Panel
**Priority:** Low
**Description:** ImGui panel to preview/test audio:
- BGM player with transport controls
- SFX browser with one-click play
- Volume sliders for categories

---

#### 9. Dialog Preview
**Priority:** Medium
**Description:** Preview dialog scripts in editor with typewriter effect, portrait display.

---

### Framework Ideas

#### 10. Party System
**Priority:** High (for JRPG completeness)
**Description:** Manage player party:
- Party members list
- Formation positions
- Swap in/out of battle party
- Party-wide inventory access

---

#### 11. Equipment Slots
**Priority:** High
**Description:** Extend inventory system:
- Equipment slots (weapon, armor, accessory)
- Stat modifiers from equipment
- Equipment restrictions by class

---

#### 12. Status Effects
**Priority:** Medium
**Description:** Buff/debuff system:
- Duration-based effects
- Tick damage (poison)
- Stat modifiers
- Visual indicators

---

#### 13. Skill Tree / Progression
**Priority:** Medium
**Description:** Extend `framework/progression/skills.py`:
- Skill unlock dependencies
- Skill points
- Visual skill tree for editor

---

### Technical Improvements

#### 14. Asset Hot Reload
**Priority:** Low
**Description:** Watch asset directories and reload on change:
- Texture reload
- Dialog script reload
- Tilemap reload

Useful for rapid iteration.

---

#### 15. Debug Overlay
**Priority:** Medium
**Description:** In-game debug overlay:
- FPS counter
- Entity count
- Draw calls
- Memory usage
- Event log

Toggle with key (F3 or tilde).

---

#### 16. Profiler Integration
**Priority:** Low
**Description:** Per-system timing for performance analysis.

---

### Content Pipeline Ideas

#### 17. Tiled Map Import
**Priority:** High
**Description:** Import maps from Tiled (TMX format):
- Tile layers
- Object layers (spawn points, triggers)
- Properties

---

#### 18. Sprite Animation Definition
**Priority:** Medium
**Description:** JSON-based sprite animation definitions:

```json
{
  "idle": {"frames": [0,1,2,1], "fps": 8, "loop": true},
  "walk": {"frames": [3,4,5,6], "fps": 12, "loop": true},
  "attack": {"frames": [7,8,9,10], "fps": 15, "loop": false}
}
```

---

## Quick Wins

- [ ] Add `AudioManager.clear_cache()` method
- [ ] Add warning when multiple AudioListeners are active
- [ ] Expose `calculate_spatial_volume()` as public method
- [ ] Add fade-out on game quit
- [ ] Create `verify_audio_sys.py` tests (file exists but content unknown)

---

*End of ideas log*
